"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[502],{1913:function(e,t,r){r.d(t,{Y5:function(){return h},_k:function(){return o},vw:function(){return l}});var n=r(5861),a=r(4687),c=r.n(a),u=r(1243),i="https://api.themoviedb.org/3",s="6455853a1d19428276a493b9a96f5669";function o(){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={api_key:s,language:"en-US"},e.next=3,u.Z.get("".concat(i,"/trending/movie/day"),{params:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(c().mark((function e(t){var r,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.abortCtrl,n=t.query,a={api_key:s,query:n,language:"en-US",include_adult:!1},e.next=4,u.Z.get("".concat(i,"/search/movie"),{signal:r.signal,params:a});case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(c().mark((function e(t){var r,n,a,o,p,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.abortCtrl,n=t.movieId,a=t.fetchField,o={api_key:s,language:"en-US"},e.t0=a,e.next="movie"===e.t0?5:"cast"===e.t0?7:"reviews"===e.t0?9:11;break;case 5:return p="".concat(i,"/movie/").concat(n),e.abrupt("break",12);case 7:return p="".concat(i,"/movie/").concat(n,"/credits"),e.abrupt("break",12);case 9:return p="".concat(i,"/movie/").concat(n,"/reviews"),e.abrupt("break",12);case 11:return e.abrupt("return");case 12:return e.next=14,u.Z.get(p,{signal:r.signal,params:o});case 14:return l=e.sent,e.abrupt("return",l.data);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},502:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var n,a,c,u=r(5861),i=r(9439),s=r(4687),o=r.n(s),p=r(2791),l=r(7689),f=r(7596),h=(r(5462),r(287)),d=r(1913),m=r(168),v=r(7686),x=v.Z.ul(n||(n=(0,m.Z)(["\n  padding: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n"]))),b=v.Z.li(a||(a=(0,m.Z)(["\n  width: 150px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),g=v.Z.img(c||(c=(0,m.Z)(["\n  width: 150px;\n"]))),w=r(184);var k=function(){var e=(0,p.useRef)(),t=(0,l.UO)().movieId,r=(0,p.useState)(!1),n=(0,i.Z)(r,2),a=n[0],c=n[1],s=(0,p.useState)(),m=(0,i.Z)(s,2),v=m[0],k=m[1];return(0,p.useEffect)((function(){function r(){return(r=(0,u.Z)(o().mark((function r(){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.current&&e.current.abort(),e.current=new AbortController,r.prev=2,c(!0),r.next=6,(0,d.Y5)({abortCtrl:e,movieId:t,fetchField:"cast"});case 6:n=r.sent,k(n.cast.slice(0,7)),r.next=14;break;case 10:if(r.prev=10,r.t0=r.catch(2),"ERR_CANCELED"===r.t0.code){r.next=14;break}return r.abrupt("return",f.Am.warn("Oops, something went wrong."));case 14:return r.prev=14,c(!1),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[2,10,14,17]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[t]),(0,w.jsxs)(x,{children:[v&&v.map((function(e){var t=e.id,r=e.name,n=e.character,a=e.profile_path;return(0,w.jsxs)(b,{children:[a&&(0,w.jsx)(g,{src:"https://image.tmdb.org/t/p/w500"+a,alt:r}),(0,w.jsx)("h5",{children:r}),(0,w.jsx)("p",{children:"Character: ".concat(n)})]},t)})),v&&!v.length&&(0,w.jsx)("p",{children:"There is no information about this movie cast."}),a&&(0,w.jsx)(h.a,{}),(0,w.jsx)(f.Ix,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=502.c8b0c0dd.chunk.js.map