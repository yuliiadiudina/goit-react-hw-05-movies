"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[291],{1913:function(e,r,n){n.d(r,{Y5:function(){return d},_k:function(){return o},vw:function(){return l}});var t=n(5861),a=n(4687),c=n.n(a),u=n(1243),i="https://api.themoviedb.org/3/",s="6455853a1d19428276a493b9a96f5669";function o(){return p.apply(this,arguments)}function p(){return(p=(0,t.Z)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={api_key:s,language:"en-US"},e.next=3,u.Z.get("".concat(i,"trending/movie/day"),{params:r});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)(c().mark((function e(r){var n,t,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.abortCtrl,t=r.query,a={api_key:s,query:t,language:"en-US",include_adult:!1},e.next=4,u.Z.get("".concat(i,"search/movie"),{signal:n.signal,params:a});case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(c().mark((function e(r){var n,t,a,o,p,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.abortCtrl,t=r.movieId,a=r.fetchField,o={api_key:s,language:"en-US"},e.t0=a,e.next="movie"===e.t0?5:"cast"===e.t0?7:"reviews"===e.t0?9:11;break;case 5:return p="".concat(i,"/movie/").concat(t),e.abrupt("break",12);case 7:return p="".concat(i,"/movie/").concat(t,"/credits"),e.abrupt("break",12);case 9:return p="".concat(i,"/movie/").concat(t,"/reviews"),e.abrupt("break",12);case 11:return e.abrupt("return");case 12:return e.next=14,u.Z.get(p,{signal:n.signal,params:o});case 14:return l=e.sent,e.abrupt("return",l.data);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},3291:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var t,a,c=n(5861),u=n(9439),i=n(4687),s=n.n(i),o=n(2791),p=n(7689),l=n(7596),f=(n(5462),n(287)),d=n(1913),h=n(168),v=n(7686),x=v.Z.ul(t||(t=(0,h.Z)(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),b=v.Z.a(a||(a=(0,h.Z)(["\n  display: inline-block;\n  margin: 6px;\n  padding: 5px;\n  border-radius: 20px;\n  font-size: 12px;\n  text-align: center;\n  color: rgb(255, 109, 0);\n"]))),g=n(184);var m=function(){var e=(0,o.useRef)(),r=(0,p.UO)().movieId,n=(0,o.useState)(!1),t=(0,u.Z)(n,2),a=t[0],i=t[1],h=(0,o.useState)(),v=(0,u.Z)(h,2),m=v[0],k=v[1];return(0,o.useEffect)((function(){function n(){return(n=(0,c.Z)(s().mark((function n(){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.current&&e.current.abort(),e.current=new AbortController,n.prev=2,i(!0),n.next=6,(0,d.Y5)({abortCtrl:e,movieId:r,fetchField:"reviews"});case 6:t=n.sent,k(t.results),n.next=14;break;case 10:if(n.prev=10,n.t0=n.catch(2),"ERR_CANCELED"===n.t0.code){n.next=14;break}return n.abrupt("return",l.Am.warn("Oops, something went wrong."));case 14:return n.prev=14,i(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[2,10,14,17]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[r]),(0,g.jsxs)(x,{children:[m&&m.map((function(e){var r=e.id,n=e.author,t=e.content,a=e.url;return t.length>500&&(t=t.slice(0,500)+"..."),(0,g.jsxs)("li",{children:[(0,g.jsx)("h4",{children:"Author: ".concat(n)}),(0,g.jsx)("p",{children:t}),t.length>500&&(0,g.jsx)(b,{href:a,target:"_blank",rel:"noreferrer noopener",children:"Read full article"})]},r)})),m&&!m.length&&(0,g.jsx)("p",{children:"There are no reviews for this movie."}),a&&(0,g.jsx)(f.a,{}),(0,g.jsx)(l.Ix,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=291.f8463da4.chunk.js.map